<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Error - StatusBeat</title>
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <style>
        /* Error-specific red CRT tint */
        body {
            background: radial-gradient(ellipse at center, #1f0a0a 0%, var(--pixel-black) 70%);
        }

        /* Large pixel X icon */
        .pixel-x-large {
            width: 64px;
            height: 64px;
            margin: var(--space-4) auto;
            position: relative;
        }

        .pixel-x-large::before {
            content: "";
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--pixel-red);
            box-shadow:
                8px 8px 0 var(--pixel-red),
                16px 16px 0 var(--pixel-red),
                24px 24px 0 var(--pixel-red),
                32px 32px 0 var(--pixel-red),
                40px 40px 0 var(--pixel-red),
                40px 0 0 var(--pixel-red),
                32px 8px 0 var(--pixel-red),
                24px 16px 0 var(--pixel-red),
                16px 24px 0 var(--pixel-red),
                8px 32px 0 var(--pixel-red),
                0 40px 0 var(--pixel-red);
            left: 8px;
            top: 8px;
            animation: shake-pixel 0.5s steps(2), error-pulse 0.5s steps(2) infinite;
            filter: drop-shadow(0 0 8px var(--pixel-red-glow));
        }

        @keyframes error-pulse {
            0%, 100% { filter: drop-shadow(0 0 8px var(--pixel-red-glow)); }
            50% { filter: drop-shadow(0 0 16px var(--pixel-red)); }
        }

        .error-card {
            background: var(--pixel-dark);
            border: 4px solid var(--pixel-red);
            box-shadow:
                inset -4px -4px 0 var(--pixel-black),
                inset 4px 4px 0 var(--pixel-mid),
                0 0 40px rgba(228, 59, 68, 0.2),
                8px 8px 0 rgba(0, 0, 0, 0.5);
        }

        /* Retro error dialog box */
        .error-dialog {
            background: var(--pixel-mid);
            border: 4px solid var(--pixel-red);
            padding: var(--space-3);
            margin: var(--space-3) 0;
            text-align: left;
            position: relative;
        }

        .error-dialog::before {
            content: "! SYSTEM ERROR";
            position: absolute;
            top: -12px;
            left: var(--space-2);
            background: var(--pixel-dark);
            padding: 0 var(--space-2);
            font-family: var(--font-pixel);
            font-size: 10px;
            color: var(--pixel-red);
        }

        .error-dialog p {
            font-family: var(--font-body);
            font-size: 18px;
            color: var(--pixel-white);
            margin: 0;
            word-break: break-word;
        }

        /* Blinking cursor effect */
        .error-dialog p::after {
            content: "_";
            animation: cursor 0.5s steps(1) infinite;
        }
    </style>
</head>
<body class="centered-container">
    <!-- Static noise overlay for error state -->
    <div class="static-overlay"></div>

    <div class="card error-card error-screen">
        <!-- Pixel X Icon -->
        <div class="pixel-x-large"></div>

        <h1 class="error-title">System Error</h1>

        <p style="color: var(--pixel-light-gray);">Oops! Something went wrong.</p>

        <div class="error-dialog">
            <p th:text="${error}">An error occurred during the authentication process.</p>
        </div>

        <p style="color: var(--pixel-light-gray); font-size: 18px;">Please try again or contact support if the problem persists.</p>

        <a th:href="@{/}" class="pixel-btn pixel-btn-secondary" style="margin-top: var(--space-4);">
            &lt; Try Again
        </a>
    </div>
</body>
</html>
