# Test configuration for StatusBeat

# MongoDB - Embedded MongoDB (flapdoodle) will auto-configure
spring.data.mongodb.database=statusbeat_test
spring.data.mongodb.auto-index-creation=true
de.flapdoodle.mongodb.embedded.version=8.0.4

# Disable scheduling during tests - use minimum pool size
spring.task.scheduling.pool.size=1
spring.main.allow-bean-definition-overriding=true

# Encryption key for tests
statusbeat.encryption.secret-key=test-secret-key-for-unit-tests-only

# Sync settings for tests
statusbeat.sync.polling-interval=1000
statusbeat.sync.expiration-overhead-ms=5000

# Retry settings for tests (faster retries)
statusbeat.retry.max-attempts=2
statusbeat.retry.backoff-delay=100

# Spotify OAuth settings for tests
spotify.client-id=test-client-id
spotify.client-secret=test-client-secret
spotify.redirect-uri=http://localhost:8080/callback/spotify
spotify.oauth.scope=user-read-currently-playing user-read-playback-state

# Slack OAuth settings for tests
slack.client-id=test-slack-client-id
slack.client-secret=test-slack-client-secret
slack.signing-secret=test-signing-secret
slack.bot-token=xoxb-test-bot-token
slack.oauth.install-path=/slack/install
slack.oauth.redirect-path=/slack/oauth/callback
slack.oauth.bot-scope=chat:write,users.profile:write,users.profile:read
slack.oauth.user-scope=users.profile:write,users.profile:read

# Logging
logging.level.com.statusbeat=DEBUG
logging.level.org.springframework.data.mongodb=WARN
logging.level.de.flapdoodle.embed.mongo=WARN
